function o(o,n){function t(o,t,e){c=t.value.split("");var r=t.selectionStart===c.length,u=r?n.cursorColor:"unset",i='<span style="color: '+(r?n.cursorColor:n.backgroundColor)+"; background: "+u+'">_</span>';l=c.map(function(o,n){return[o,(e=n,e>=t.selectionStart&&e<=t.selectionEnd?"cursor":"char")];var e}),o.innerHTML=l.map(function(o){return function(o,t){void 0===t&&(t="char");var e=" "===o,r="cursor"===t,u=r?n.cursorColor:"unset";return'<span class="'+t+'" style="color: '+(r?e?n.cursorColor:n.backgroundColor:e?n.backgroundColor:n.color)+"; background: "+u+'" >'+(e?"_":o)+"</span>"}.apply(void 0,o)}).join("")+i,e&&n.onChange&&n.onChange(t.value)}function e(o,e){var i,a,s,f,d;n=Object.assign({color:"#000",backgroundColor:"#fff",cursorColor:"#000",fontSize:"16px"},n),i=o,r=document.getElementById(i)||!1,e||(u=function(o){var n=document.getElementById("mapWith"+o);if(n)return n;var t=document.createElement("input");return t.style.width="1px",t.style.height="1px",t.style.position="fixed",t.style.top="-100px",t.style.left="-100px",t.id="mapWith"+o,document.body.appendChild(t)}(o)),u.value="",c=[],l=[],(a=r).style.fontFamily="monospace",a.style.fontSize=n.fontSize||"16px",a.style.backgroundColor=n.backgroundColor||"#fff",a.style.color=n.color||"#000",t(r,u),f=function(){return t(r,u)},(s=u).onkeyup=function(o){var t=["ArrowLeft","ArrowRight","Home","End"].includes(o.code),e=o.ctrlKey&&"KeyA"===o.code,r="Enter"===o.code;(t||e)&&f&&f(o),r&&n.onEnter&&n.onEnter(s.value)},d=function(o){return n=o,u.selectionStart=u.selectionEnd=n,void t(r,u);var n},r.addEventListener("click",function(o){d(Array.from(r.children).indexOf(o.target),o.target)}),u.oninput=function(o){t(r,o.target)},u.focus(),n.disableAutoFocus||(u.onblur=u.focus)}var r,u,c,l;return e(o),{get value(){return u.value},set value(o){u.value=o,t(r,u)},set onEnter(o){"function"==typeof o&&(n.onEnter=o)},set onChange(o){"function"==typeof o&&(n.onChange=o)},blur:function(){r.innerHTML=c.join("")},focus:function(){u.focus(),t(r,u)},focusOn:function(n){n===o?this.focus():(this.blur(),e(n,!0))}}}window.PseudoInput=o,module.exports=o;
//# sourceMappingURL=pseudoinput.js.map
