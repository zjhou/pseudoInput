!function(o,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):o.pseudoinput=n()}(this,function(){function o(o,n){function e(o,e,t){c=e.value.split("");var r=e.selectionStart===c.length,u=r?n.cursorColor:"unset",l='<span style="color: '+(r?n.cursorColor:n.backgroundColor)+"; background: "+u+'">_</span>';i=c.map(function(o,n){return[o,(t=n,t>=e.selectionStart&&t<=e.selectionEnd?"cursor":"char")];var t}),o.innerHTML=i.map(function(o){return function(o,e){void 0===e&&(e="char");var t=" "===o,r="cursor"===e,u=r?n.cursorColor:"unset";return'<span class="'+e+'" style="color: '+(r?t?n.cursorColor:n.backgroundColor:t?n.backgroundColor:n.color)+"; background: "+u+'" >'+(t?"_":o)+"</span>"}.apply(void 0,o)}).join("")+l,t&&n.onChange&&n.onChange(e.value)}function t(o,t){var l,a,s,f,d;n=Object.assign({color:"#000",backgroundColor:"#fff",cursorColor:"#000",fontSize:"16px"},n),l=o,r=document.getElementById(l)||!1,t||(u=function(o){var n=document.getElementById("mapWith"+o);if(n)return n;var e=document.createElement("input");return e.style.width="1px",e.style.height="1px",e.style.position="fixed",e.style.top="-100px",e.style.left="-100px",e.id="mapWith"+o,document.body.appendChild(e)}(o)),u.value="",c=[],i=[],(a=r).style.fontFamily="monospace",a.style.fontSize=n.fontSize||"16px",a.style.backgroundColor=n.backgroundColor||"#fff",a.style.color=n.color||"#000",e(r,u),f=function(){return e(r,u)},(s=u).onkeyup=function(o){var e=["ArrowLeft","ArrowRight","Home","End"].includes(o.code),t=o.ctrlKey&&"KeyA"===o.code,r="Enter"===o.code;(e||t)&&f&&f(o),r&&n.onEnter&&n.onEnter(s.value)},d=function(o){return n=o,u.selectionStart=u.selectionEnd=n,void e(r,u);var n},r.addEventListener("click",function(o){d(Array.from(r.children).indexOf(o.target),o.target)}),u.oninput=function(o){e(r,o.target)},u.focus(),n.disableAutoFocus||(u.onblur=u.focus)}var r,u,c,i;return t(o),{get value(){return u.value},set value(o){u.value=o,e(r,u)},set onEnter(o){"function"==typeof o&&(n.onEnter=o)},set onChange(o){"function"==typeof o&&(n.onChange=o)},blur:function(){r.innerHTML=c.join("")},focus:function(){u.focus(),e(r,u)},focusOn:function(n){n===o?this.focus():(this.blur(),t(n,!0))}}}return window.PseudoInput=o,o});
//# sourceMappingURL=pseudoinput.umd.js.map
