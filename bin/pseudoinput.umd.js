!function(n,o){"object"==typeof exports&&"undefined"!=typeof module?module.exports=o():"function"==typeof define&&define.amd?define(o):n.pseudoinput=o()}(this,function(){function n(n,o){function e(n,e,t){c=e.value.split("");var r='<span style="color: rgba(0,0,0,0); background: '+(e.selectionStart===c.length?o.cursorColor:"unset")+'">_</span>';i=c.map(function(n,o){return[n,(t=o,t>=e.selectionStart&&t<=e.selectionEnd?"cursor":"char")];var t}),n.innerHTML=i.map(function(n){return function(n,e){void 0===e&&(e="char");var t,r=" "===n,c="cursor"===e,i="rgba(0,0,0,0)";return t=c?u.selectionStart!==u.selectionEnd?o.selectionColor:o.cursorColor:"unset",'<span class="'+e+'" style="color: '+(c?r?i:o.backgroundColor:r?i:o.color)+"; background: "+t+'" >'+(r?"_":n)+"</span>"}.apply(void 0,n)}).join("")+r,t&&o.onChange&&o.onChange(e.value)}function t(n,t){var l,s,a,f,d;o=Object.assign({color:"#000",backgroundColor:"#fff",cursorColor:"#000",fontSize:"16px",selectionColor:"blue"},o),l=n,r=document.getElementById(l)||!1,t||(u=function(n){var o=document.getElementById("mapWith"+n);if(o)return o;var e=document.createElement("input");return e.style.width="1px",e.style.height="1px",e.style.position="fixed",e.style.top="-100px",e.style.left="-100px",e.id="mapWith"+n,document.body.appendChild(e)}(n)),u.value="",c=[],i=[],(s=r).style.fontFamily="monospace",s.style.fontSize=o.fontSize||"16px",s.style.backgroundColor=o.backgroundColor||"#fff",s.style.color=o.color||"#000",e(r,u),f=function(){return e(r,u)},(a=u).onkeyup=function(n){var e=["ArrowLeft","ArrowRight","Home","End"].includes(n.code),t=n.ctrlKey&&"KeyA"===n.code,r="Enter"===n.code;(e||t)&&f&&f(n),r&&o.onEnter&&o.onEnter(a.value)},d=function(n){return o=n,u.selectionStart=u.selectionEnd=o,void e(r,u);var o},r.addEventListener("click",function(n){d(Array.from(r.children).indexOf(n.target),n.target)}),u.oninput=function(n){e(r,n.target)},u.focus(),o.disableAutoFocus||(u.onblur=u.focus)}var r,u,c,i;return t(n),{get value(){return u.value},set value(n){u.value=n,e(r,u)},set onEnter(n){"function"==typeof n&&(o.onEnter=n)},set onChange(n){"function"==typeof n&&(o.onChange=n)},blur:function(){r.innerHTML=c.join("")},focus:function(){u.focus(),e(r,u)},focusOn:function(o){o===n?this.focus():(this.blur(),t(o,!0))}}}return window.PseudoInput=n,n});
//# sourceMappingURL=pseudoinput.umd.js.map
